#!/bin/bash

#############
# Avoid RSI #
#############

# mapping CAPS to CTRL
setxkbmap -option ctrl:nocaps
xmodmap -e "remove Control = Control_R"

# add ability to use RETURN as CTRL
xmodmap -e "keycode 0x69 = Return"
xmodmap -e "keycode 0x24 = Control_R"
xmodmap -e "add Control = Control_R"
xcape -t 10000 -e "Control_R=Return"

# add ability to use RETURN as CTRL
# taken from https://github.com/alols/xcape#examples
spare_modifier="Hyper_L"
xmodmap -e "keycode 65 = $spare_modifier"
xmodmap -e "remove mod4 = $spare_modifier" # hyper_l is mod4 by default
xmodmap -e "add Super = $spare_modifier"
# Map space to an unused keycode (to keep it around for xcape to use).
xmodmap -e "keycode any = space"
# Finally use xcape to cause the space bar to generate a space when tapped.
xcape -t 10000 -e "$spare_modifier=space"

# map context key to super
xmodmap -e "keysym Menu = Super_R"

# disable insert key. I never need it
xmodmap -e "keycode 118 ="
