#!/bin/bash

#
#  Clean temporary files
#

clean_tmp() {
  printf "ğŸ§½ Cleaning temporary files\n"
  rm -rf ~/tmp/*
}

clean_all() {
  clean_tmp

  printf "\nğŸ§½ Cleaning dependencies and build artifacts\n"
  kondo --older 1M

  printf "\nğŸ§½ Cleaning unused layer\n"
  rpm-ostree cleanup --base

  printf "\nğŸ§½ Cleaning unused flatpak package\n"
  flatpak uninstall --unused

  printf "\nğŸ§½ Cleaning dagling dockerfiles\n"
  podman system prune
}

case $1 in
"tmp") clean_tmp ;;
*) clean_all ;;
esac

printf "\nâœ¨ You have a new shiny machine!\n"
