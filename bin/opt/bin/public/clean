#!/bin/bash

#
#  Clean temporary files
#

clean_tmp() {
  echo "ğŸ§½ Cleaning temporary files"
  rm -rf ~/tmp/*
}

clean_all() {
  clean_tmp

  echo "ğŸ§½ Cleaning dependencies and build artifacts"
  kondo --older 1M

  echo "ğŸ§½ Cleaning unused layer"
  rpm-ostree cleanup

  echo "ğŸ§½ Cleaning unused flatpak package"
  flatpak uninstall --unused

  echo "ğŸ§½ Cleaning dagling dockerfiles"
  podman system prune
}

case $1 in
"tmp") clean_tmp ;;
*) clean_all ;;
esac

echo "âœ¨ You have a new shiny machine!"
